<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" >
<title>Document</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<link rel="stylesheet" th:href="@{/CSS/patientdashboard.css}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style type="text/css">
 * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
 html,body {
	height: 100vh;
	margin: 0%;
	padding: 0%;
}

/* Info Navbar */
.info-navbar {
  background-color: #e7f0d7;
  box-shadow: 0 4px 12px rgba(192, 236, 131, 0.2);
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
}
.info-navbar .navbar-brand {
  font-weight: 700;
  font-size: 1.5rem;
  color: #4f7321;
}
.logo {
  width: 50px;
  border-radius: 12px;
}
.info-list {
  color: #557a17;
  list-style: none;
  display: flex;
  gap: 2rem;
  margin-bottom: 0;
}
.info-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.info-item i {
  font-size: 1.2rem;
  color: #9bc53d;
}
.info-item small {
  display: block;
  font-weight: 600;
  letter-spacing: 1.1px;
}
.info-item span {
  color: #4f7321;
  font-weight: 600;
}

/* Main Navbar */



</style>

</head>
<body>


<div class="card d-flex flex-column" style="height: 100vh;">
        <!-- Top Info Navbar -->
<nav class="info-navbar">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <a class="navbar-brand d-flex align-items-center" th:href="@{/}">
      <img th:src="@{/images/logo.jpg}" alt="Logo" class="logo me-2">
      Lotus Multispeciality Clinic
    </a>
    <ul class="info-list mb-0">
      <li class="info-item">
        <i class="fa-solid fa-phone-volume"></i>
        <div>
          <small>EMERGENCY</small>
          <span>+91 2345678901</span>
        </div>
      </li>
      <li class="info-item">
        <i class="fa-regular fa-clock"></i>
        <div>
          <small>WORKING HOURS</small>
          <span>Mon-Sat: 9AM - 9PM</span>
        </div>
      </li>
      <li class="info-item">
        <i class="fa-solid fa-location-dot"></i>
        <div>
          <small>LOCATION</small>
          <span>123 Lotus Street, City</span>
        </div>
      </li>
    </ul>
  </div>
</nav>

<!-- Patient Navbar -->
<!-- Patient Navbar -->
<nav class="navbar navbar-expand-lg main-navbar">
  <div class="container-fluid justify-content-between align-items-center">

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#patientNavbar" aria-controls="patientNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="patientNavbar">
      <ul class="navbar-nav gap-4 fw-semibold fs-5">
        <li class="nav-item animate-slide-in" style="animation-delay:0s;">
          <a class="nav-link navtabs" th:href="@{/patient/patDashboard}">Dashboard</a>
        </li>
        <li class="nav-item animate-slide-in" style="animation-delay:0.1s;">
          <a class="nav-link navtabs" th:href="@{/logout}">
            <i class="fa-solid fa-power-off"></i> Logout
          </a>
        </li>
      </ul>

      <!-- Patient Name in Navbar -->
      <span class="navbar-patient-name ms-4 animate-slide-in" data-bs-toggle="modal" data-bs-target="#profiledetails" style="animation-delay:0.2s;">
        Hello, <strong th:text="${PatientName}"></strong>
      </span>
    </div>
  </div>
</nav>



        <div class="p-3 d-flex flex-column flex-grow-1 dashboard-bg m-3" style="border-radius: 15px">

  <!-- Main Dashboard Row -->
  <div class="card flex-grow-1  border-0 bg-transparent">
    <div class="row h-100 w-100 g-3">

      <!-- Left Column: Quick Actions -->
      <div class="col-lg-5 d-flex flex-column gap-3">
    <div class="card glass-card p-3">
        <h4 class="mb-3">Quick Actions</h4>

        <!-- Action Grid -->
        <div class="action-grid">
            <!-- Reports -->
            <a th:href="@{/patient/getreports}" class="action-card">
                <img th:src="@{/images/Reports.png}" alt="Reports">
                <h5>Reports</h5>
            </a>

            <!-- History -->
            <div class="action-card">
                <img th:src="@{/images/health-report.png}" alt="History">
                <h5>History</h5>
            </div>

            <!-- Book Appointment -->
            <div class="action-card" data-bs-toggle="modal" data-bs-target="#exampleModal" th:onclick="[[]]">
                <img th:src="@{/images/online-appointment.png}" alt="Book Appointment">
                <h5>Book Appointment</h5>
            </div>

            <!-- New Feature -->
            
        </div>
    </div>
</div>


      <!-- Right Column: Appointments Table -->
      <div class="col-lg-7">
    <div class="card glass-card p-3 fade-in-table">
        <h4 class="mb-3">Upcoming Appointments</h4>

        <!-- Scrollable Table Wrapper -->
        <div class="table-responsive custom-scroll">
            <table class="table table-hover align-middle text-center custom-table">
                <thead class="sticky-top">
                    <tr>
                        <th>Sr No.</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Doctor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="c, iterStat : ${appointmentlist}" th:if="${appointmentlist != null and !appointmentlist.isEmpty()}">
                        <td th:text="${c.id}">1</td>
                        <td th:text="${c.AppointmentDate}">Mark</td>
                        <td th:text="${c.AppointmentTime}">Otto</td>
                        <td th:text="${c.doctor}">@mdo</td>
                    </tr>
                    
                    <tr th:if="${appointmentlist == null or appointmentlist.isEmpty()}">
                        <td colspan="4" class="text-danger fw-bold">Appointment not found</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>


    </div>
  </div>
</div>

    </div>



<div class="modal fade custom-modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content modal-3d">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold text-primary" id="exampleModalLabel">
          <i class="bi bi-calendar-check me-2"></i> Book Appointment
        </h5>
        <button type="button" class="btn-close shadow-sm" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <form th:action="@{/patient/BookAppointment}" id="appointmentForm" method="post" class="d-flex flex-column gap-3">

          <!-- Row 1 -->
          <div class="d-flex gap-3">
            <div class="flex-fill">
              <label class="form-label fw-semibold">Full Name</label>
              <input type="text" name="name" th:value="${userdetails.name}" class="form-control form-control-3d" placeholder="Enter your full name">
              <span class="error-msg text-danger small"></span>
            </div>
            <div class="flex-fill">
              <label class="form-label fw-semibold">Gender</label>
              <select name="gender" class="form-select form-control-3d">
                <option  th:value="${userdetails.gender}">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
              </select>
              <span class="error-msg text-danger small"></span>
            </div>
          </div>

          <!-- Row 2 -->
          <div class="d-flex gap-3">
            <div class="flex-fill">
              <label class="form-label fw-semibold">Appointment Date</label>
              <input type="date" name="AppointmentDate" class="form-control form-control-3d" >
              <span class="error-msg text-danger small"></span>
            </div>
            <div class="flex-fill">
              <label class="form-label fw-semibold">Appointment Time</label>
              <input type="time" name="AppointmentTime" class="form-control form-control-3d" >
             <span class="error-msg text-danger small"></span>
            </div>
          </div>

          <!-- Row 3 -->
          <div class="d-flex gap-3">
            <div class="flex-fill">
              <label class="form-label fw-semibold">Phone</label>
              <input type="tel" name="phone" th:value="${userdetails.number}" class="form-control form-control-3d" placeholder="Enter your phone number" >
              <span class="error-msg text-danger small"></span>
            </div>
            <div class="flex-fill">
              <label class="form-label fw-semibold">Select Doctor</label>
              <select name="doctor" class="form-select form-control-3d" >
                <option value="">Select a Doctor</option>
                <option>Dr. Ganesh</option>
                <option>Dr. Shradha</option>
              </select>
              <span class="error-msg text-danger small"></span>
            </div>
          </div>

          <!-- Row 4 -->
          <div>
            <label class="form-label fw-semibold">Email</label>
            <input type="email" name="email" th:value="${userdetails.email}" class="form-control form-control-3d" placeholder="Enter your email" >
            <span class="error-msg text-danger small"></span>
          </div>

          <!-- Row 5 -->
          <div>
            <label class="form-label fw-semibold">Message</label>
            <textarea name="message" class="form-control form-control-3d" rows="3" placeholder="Enter any message"></textarea>
            <span class="error-msg text-danger small"></span>
          </div>

          <!-- Button -->
          <div class="text-center">
            <button type="submit" class="btn btn-primary btn-3d w-75">
              <i class="bi bi-send-fill me-1"></i> Submit
            </button>
          </div>
        </form>
      </div>

      <!-- <div class="modal-footer border-0 justify-content-between">
        <button type="button" class="btn btn-outline-secondary btn-3d" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success btn-3d">Save changes</button>
      </div> -->
    </div>
  </div>
</div>

<!-- user profile model -->
<div class="modal fade" id="profiledetails" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 shadow-lg" style="border-radius: 15px;">
      <div class="modal-body p-0">
        <div class="row g-0">
          <!-- Left Side -->
          <div class="col-md-4 bg-primary text-white text-center p-4" style="border-radius: 15px;">
            <img src="https://via.placeholder.com/120" class="rounded-circle mb-3">
            <h5 th:text="${userdetails.name}">John Doe</h5>
            <p class="mb-0" th:text="${userdetails.email}"><i class="fas fa-envelope"></i> john@example.com</p>
          </div>
          <!-- Right Side -->
          <div class="col-md-8 p-4">
            <h6><i class="fas fa-phone text-primary"></i> Phone</h6>
            <p th:text="${userdetails.number}">+91 9876543210</p>
            <h6><i class="fas fa-venus-mars text-danger"></i> Gender</h6>
            <p th:text="${userdetails.gender}">Male</p>
            <h6><i class="fas fa-map-marker-alt text-success"></i> Address</h6>
            <p th:text="${userdetails.address}">123 Main St, City</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">



</script>

<script th:src="@{/js/Patient-Dashboard.js}"></script>
</body>
</html>